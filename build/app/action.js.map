{
  "version": 3,
  "sources": ["../../src/app/action.ts"],
  "sourcesContent": ["import { sendToTelegram } from './telegram.js';\nimport { callSubMenu } from './subMenu.js';\nimport { sendNav } from './sendNav.js';\nimport { backMenuFunc } from './backMenu.js';\nimport { errorLogger } from './logging.js';\nimport { adapter } from '../main.js';\nimport type {\n    Actions,\n    BindingObject,\n    DataObject,\n    NavigationRow,\n    GenerateActionsArrayOfEntries,\n    GenerateActionsNewObject,\n    splittedNavigation,\n    MenuData,\n    Newline,\n    Part,\n    PrimitiveType,\n    Switch,\n    UserInGroup,\n    UserListWithChatId,\n    UserObjectActions,\n    Navigation,\n    NewObjectStructure,\n} from '../types/types';\nimport { decomposeText } from '../lib/string';\nimport { config } from '../config/config';\nimport { checkOneLineValue } from '../lib/appUtils';\nimport { isTruthy } from '../lib/utils';\nimport { trimAllItems } from '../lib/object';\n\nconst bindingFunc = async (\n    text: string,\n    userToSend: string,\n    telegramInstance: string,\n    one_time_keyboard: boolean,\n    resize_keyboard: boolean,\n    userListWithChatID: UserListWithChatId[],\n    parse_mode?: boolean,\n): Promise<void> => {\n    let value;\n\n    try {\n        const substring = decomposeText(text, 'binding:', '}').substring;\n        const arrayOfItems = substring.replace('binding:{', '').replace('}', '').split(';');\n        const bindingObject: BindingObject = {\n            values: {},\n        };\n\n        for (let item of arrayOfItems) {\n            if (!item.includes('?')) {\n                const key = item.split(':')[0];\n                const id = item.split(':')[1];\n\n                const result = await adapter.getForeignStateAsync(id);\n                if (result) {\n                    bindingObject.values[key] = result.val?.toString() || '';\n                }\n            } else {\n                Object.keys(bindingObject.values).forEach(function (key) {\n                    item = item.replace(key, bindingObject.values[key]);\n                });\n\n                value = eval(item);\n            }\n        }\n        await sendToTelegram({\n            userToSend,\n            textToSend: value,\n            instanceTelegram: telegramInstance,\n            resize_keyboard,\n            one_time_keyboard,\n            userListWithChatID,\n            parse_mode,\n        });\n    } catch (e: any) {\n        errorLogger('Error Binding function: ', e, adapter);\n    }\n};\n\nfunction splitNavigation(rows: NavigationRow[]): splittedNavigation[] {\n    const generatedNavigation: splittedNavigation[] = [];\n\n    rows.forEach(({ value, text, parse_mode, call }) => {\n        const nav: Navigation = [];\n\n        checkOneLineValue(value)\n            .split(config.rowSplitter)\n            .forEach(function (el, index: number) {\n                nav[index] = trimAllItems(el.split(','));\n            });\n\n        generatedNavigation.push({ call, text, parse_mode: isTruthy(parse_mode), nav });\n    });\n    return generatedNavigation;\n}\n\nconst idBySelector = async ({\n    selector,\n    text,\n    userToSend,\n    newline,\n    telegramInstance,\n    one_time_keyboard,\n    resize_keyboard,\n    userListWithChatID,\n}: {\n    selector: string;\n    text: string;\n    userToSend: string;\n    newline: Newline;\n    telegramInstance: string;\n    one_time_keyboard: boolean;\n    resize_keyboard: boolean;\n    userListWithChatID: UserListWithChatId[];\n}): Promise<void> => {\n    let text2Send = '';\n    try {\n        if (!selector.includes('functions')) {\n            return;\n        }\n\n        const functions = selector.replace('functions=', '');\n        let enums: string[] | undefined = [];\n        const result = await adapter.getEnumsAsync();\n\n        if (!result || !result['enum.functions'][`enum.functions.${functions}`]) {\n            return;\n        }\n        enums = result['enum.functions'][`enum.functions.${functions}`].common.members;\n        if (!enums) {\n            return;\n        }\n        const promises = enums.map(async (id: string) => {\n            const value = await adapter.getForeignStateAsync(id);\n            if (value && value.val !== undefined && value.val !== null) {\n                let newText = text;\n                let res;\n\n                if (text.includes('{common.name}')) {\n                    res = await adapter.getForeignObjectAsync(id);\n                    adapter.log.debug(`Name ${JSON.stringify(res?.common.name)}`);\n\n                    if (res && typeof res.common.name === 'string') {\n                        newText = newText.replace('{common.name}', res.common.name);\n                    }\n                }\n                if (text.includes('&amp;&amp;')) {\n                    text2Send += newText.replace('&amp;&amp;', String(value.val));\n                } else if (text.includes('&&')) {\n                    text2Send += newText.replace('&&', String(value.val));\n                } else {\n                    text2Send += newText;\n                    text2Send += ` ${value.val}`;\n                }\n            }\n            if (newline === 'true') {\n                text2Send += ' \\n';\n            } else {\n                text2Send += ' ';\n            }\n            adapter.log.debug(`text2send ${JSON.stringify(text2Send)}`);\n        });\n        Promise.all(promises)\n            .then(() => {\n                sendToTelegram({\n                    userToSend,\n                    textToSend: text2Send,\n                    instanceTelegram: telegramInstance,\n                    resize_keyboard,\n                    one_time_keyboard,\n                    userListWithChatID,\n                }).catch(e => {\n                    errorLogger('Error SendToTelegram:', e, adapter);\n                });\n\n                adapter.log.debug(`TextToSend: ${text2Send}`);\n                adapter.log.debug(`UserToSend: ${userToSend}`);\n            })\n            .catch(e => {\n                errorLogger('Error Promise:', e, adapter);\n            });\n    } catch (error: any) {\n        errorLogger('Error idBySelector: ', error, adapter);\n    }\n};\n\nfunction getNewStructure(val: splittedNavigation[]): NewObjectStructure {\n    const obj: NewObjectStructure = {};\n    val.forEach(function ({ nav, text, parse_mode, call }) {\n        obj[call] = { nav, text, parse_mode };\n    });\n    return obj;\n}\n\nfunction generateActions(\n    action: Actions,\n    userObject: NewObjectStructure,\n): { obj: NewObjectStructure; ids: string[] } | undefined {\n    try {\n        const arrayOfEntries: GenerateActionsArrayOfEntries[] = [\n            {\n                objName: 'echarts',\n                name: 'echarts',\n                loop: 'preset',\n                elements: [\n                    { name: 'preset' },\n                    { name: 'echartInstance' },\n                    { name: 'background' },\n                    { name: 'theme' },\n                    { name: 'filename' },\n                ],\n            },\n            {\n                objName: 'loc',\n                name: 'location',\n                loop: 'latitude',\n                elements: [{ name: 'latitude' }, { name: 'longitude' }, { name: 'parse_mode', key: 0 }],\n            },\n            {\n                objName: 'pic',\n                name: 'sendPic',\n                loop: 'IDs',\n                elements: [\n                    { name: 'id', value: 'IDs' },\n                    { name: 'fileName' },\n                    { name: 'delay', value: 'picSendDelay' },\n                ],\n            },\n            {\n                objName: 'get',\n                name: 'getData',\n                loop: 'IDs',\n                elements: [\n                    { name: 'id', value: 'IDs' },\n                    { name: 'text', type: 'text' },\n                    { name: 'newline', value: 'newline_checkbox' },\n                    { name: 'parse_mode', key: 0 },\n                ],\n            },\n            {\n                objName: 'httpRequest',\n                name: 'httpRequest',\n                loop: 'url',\n                elements: [{ name: 'url' }, { name: 'user' }, { name: 'password' }, { name: 'filename' }],\n            },\n        ];\n\n        const listOfSetStateIds: string[] = [];\n        action.set.forEach(function (\n            { trigger, switch_checkbox, returnText, parse_mode, values, confirm, ack, IDs },\n            key,\n        ) {\n            if (key == 0) {\n                userObject[trigger[0]] = { switch: [] };\n            }\n            userObject[trigger[0]] = { switch: [] };\n\n            IDs.forEach(function (id: string, index: number) {\n                listOfSetStateIds.push(id);\n                const toggle = switch_checkbox[index] === 'true';\n                let value;\n\n                if (values[index] === 'true' || values[index] === 'false') {\n                    value = values[index] === 'true';\n                } else {\n                    value = values[index];\n                }\n                const newObj: Switch = {\n                    id: IDs[index],\n                    value: value.toString(),\n                    toggle: toggle,\n                    confirm: confirm[index],\n                    returnText: returnText[index],\n                    ack: ack ? ack[index] : 'false',\n                    parse_mode: isTruthy(parse_mode[0]),\n                };\n                if (userObject[trigger[0]] && userObject[trigger[0]]?.switch) {\n                    userObject[trigger[0]].switch!.push(newObj);\n                }\n            });\n        });\n\n        arrayOfEntries.forEach(item => {\n            if (action[item.objName as keyof Actions]) {\n                action[item.objName as keyof Actions].forEach(function (element, index: number) {\n                    userObject[element.trigger[0]] = { [item.name]: [] };\n                    if (index == 0) {\n                        userObject[element.trigger[0]] = { [item.name as keyof UserObjectActions]: [] };\n                    }\n\n                    (element[item.loop as keyof typeof element] as string[]).forEach(function (\n                        id: string,\n                        key: number,\n                    ) {\n                        const newObj: GenerateActionsNewObject = {};\n                        item.elements.forEach(elementItem => {\n                            const name = elementItem.name;\n                            const value = elementItem.value ? elementItem.value : elementItem.name;\n                            const newKey = elementItem.key ? elementItem.key : key;\n                            let val: string | boolean;\n\n                            if (!element[value as keyof typeof element]) {\n                                val = false;\n                            } else {\n                                val = element[value as keyof typeof element][newKey] || 'false';\n                            }\n\n                            if (elementItem.type == 'text' && typeof val === 'string') {\n                                newObj[name as keyof GenerateActionsNewObject] = val.replace(/&amp;/g, '&') as any;\n                            } else {\n                                newObj[name as keyof GenerateActionsNewObject] = val as any;\n                            }\n                        });\n                        if (item.name) {\n                            // TODO check if this is correct\n                            // @ts-expect-error\n                            (userObject?.[element.trigger as string]?.[item?.name as keyof Part] as []).push(newObj);\n                        }\n                    });\n                });\n            }\n        });\n\n        return { obj: userObject, ids: listOfSetStateIds };\n    } catch (err: any) {\n        errorLogger('Error generateActions:', err, adapter);\n    }\n}\n\nconst exchangePlaceholderWithValue = (textToSend: string, val: PrimitiveType): string => {\n    let searchString = '';\n    if (textToSend.includes('&&')) {\n        searchString = '&&';\n    } else if (textToSend.includes('&amp;&amp;')) {\n        searchString = '&amp;&amp;';\n    }\n    searchString !== '' && textToSend.toString().indexOf(searchString) != -1\n        ? (textToSend = textToSend.replace(searchString, val.toString()))\n        : (textToSend += ` ${val}`);\n\n    return textToSend;\n};\n\nconst adjustValueType = (value: keyof NewObjectStructure, valueType: string): boolean | string | number => {\n    if (valueType == 'number') {\n        if (!parseFloat(value)) {\n            adapter.log.error(`Error: Value is not a number: ${value}`);\n            return false;\n        }\n        return parseFloat(value);\n    }\n    if (valueType == 'boolean') {\n        if (value == 'true') {\n            return true;\n        }\n        adapter.log.error(`Error: Value is not a boolean: ${value}`);\n        return false;\n    }\n    return value;\n};\n\nconst checkEvent = async (\n    dataObject: DataObject,\n    id: string,\n    state: ioBroker.State,\n    menuData: MenuData,\n    userListWithChatID: UserListWithChatId[],\n    instanceTelegram: string,\n    resize_keyboard: boolean,\n    one_time_keyboard: boolean,\n    usersInGroup: UserInGroup,\n): Promise<boolean> => {\n    const menuArray: string[] = [];\n    let ok = false;\n    let calledNav = '';\n    Object.keys(dataObject.action).forEach(menu => {\n        if (dataObject.action[menu] && dataObject.action[menu].events) {\n            dataObject.action[menu].events.forEach(event => {\n                if (event.ID[0] == id && event.ack[0] == state.ack.toString()) {\n                    if ((state.val == true || state.val == 'true') && event.condition == 'true') {\n                        ok = true;\n                        menuArray.push(menu);\n                        calledNav = event.menu[0];\n                    } else if ((state.val == false || state.val == 'false') && event.condition[0] == 'false') {\n                        ok = true;\n                        menuArray.push(menu);\n                        calledNav = event.menu[0];\n                    } else if (typeof state.val == 'number' && state.val == parseInt(event.condition[0])) {\n                        ok = true;\n                        menuArray.push(menu);\n                        calledNav = event.menu[0];\n                    } else if (state.val == event.condition[0]) {\n                        ok = true;\n                        menuArray.push(menu);\n                        calledNav = event.menu[0];\n                    }\n                }\n            });\n        }\n    });\n    if (ok) {\n        if (menuArray.length >= 1) {\n            for (const menu of menuArray) {\n                if (usersInGroup[menu] && menuData[menu][calledNav as keyof DataObject]) {\n                    for (const user of usersInGroup[menu]) {\n                        const part = menuData[menu][calledNav as keyof DataObject];\n                        const menus = Object.keys(menuData);\n                        if (part.nav) {\n                            backMenuFunc({ nav: calledNav, part: part.nav, userToSend: user });\n                        }\n                        if (part?.nav && part?.nav[0][0].includes('menu:')) {\n                            await callSubMenu(\n                                JSON.stringify(part?.nav[0]),\n                                menuData,\n                                user,\n                                instanceTelegram,\n                                resize_keyboard,\n                                one_time_keyboard,\n                                userListWithChatID,\n                                part,\n                                menuData,\n                                menus,\n                                null,\n                                part.nav,\n                            );\n                        } else {\n                            await sendNav(\n                                part,\n                                user,\n                                instanceTelegram,\n                                userListWithChatID,\n                                resize_keyboard,\n                                one_time_keyboard,\n                            );\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    return ok;\n};\n\nconst getUserToSendFromUserListWithChatID = (\n    userListWithChatID: UserListWithChatId[],\n    chatID: string,\n): string | null => {\n    let userToSend: string | null = null;\n\n    for (const element of userListWithChatID) {\n        if (element.chatID == chatID) {\n            userToSend = element.name;\n            break;\n        }\n    }\n\n    return userToSend;\n};\n\nexport {\n    splitNavigation,\n    idBySelector,\n    getNewStructure,\n    generateActions,\n    bindingFunc,\n    exchangePlaceholderWithValue,\n    adjustValueType,\n    checkEvent,\n    getUserToSendFromUserListWithChatID,\n};\n"],
  "mappings": "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",
  "names": ["value", "text", "parse_mode", "userToSend", "telegramInstance", "one_time_keyboard", "resize_keyboard", "userListWithChatID", "item"]
}

{
  "version": 3,
  "sources": ["../../src/app/dynamicValue.ts"],
  "sourcesContent": ["import { decomposeText } from '../lib/string';\nimport { sendToTelegram } from './telegram';\nimport type { SetDynamicValue, SetDynamicValueObj, TelegramParams } from '../types/types';\n\nconst dynamicValueObj: SetDynamicValueObj = {};\nexport const setDynamicValue = async (\n    returnText: string,\n    ack: boolean,\n    id: string,\n    userToSend: string,\n    telegramParams: TelegramParams,\n    parse_mode: boolean,\n    confirm: string,\n): Promise<{ confirmText: string; id: string | undefined }> => {\n    const { substringExcludeSearch } = decomposeText(returnText, '{setDynamicValue:', '}');\n    let array = substringExcludeSearch.split(':');\n    array = isBraceDeleteEntry(array);\n    const text = array[0];\n    if (text) {\n        await sendToTelegram({\n            userToSend,\n            textToSend: text,\n            telegramParams,\n            parse_mode,\n        });\n    }\n    dynamicValueObj[userToSend] = {\n        id,\n        ack,\n        returnText: text,\n        userToSend,\n        parse_mode,\n        confirm,\n        telegramParams,\n        valueType: array[1],\n        navToGoTo: array[3],\n    };\n\n    if (array[2] && array[2] != '') {\n        return { confirmText: array[2], id: array[3] !== '' ? array[3] : undefined };\n    }\n    return { confirmText: '', id: undefined };\n};\n\nexport const getDynamicValue = (userToSend: string): SetDynamicValue | null => dynamicValueObj[userToSend] ?? null;\n\nexport const removeUserFromDynamicValue = (userToSend: string): boolean => {\n    if (dynamicValueObj[userToSend]) {\n        delete dynamicValueObj[userToSend];\n        return true;\n    }\n    return false;\n};\n\nfunction isBraceDeleteEntry(array: string[]): string[] {\n    if (array[4] === '}') {\n        return array.slice(0, 4);\n    }\n    return array;\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA8B;AAC9B,sBAA+B;AAG/B,MAAM,kBAAsC,CAAC;AACtC,MAAM,kBAAkB,OAC3B,YACA,KACA,IACA,YACA,gBACA,YACA,YAC2D;AAC3D,QAAM,EAAE,uBAAuB,QAAI,6BAAc,YAAY,qBAAqB,GAAG;AACrF,MAAI,QAAQ,uBAAuB,MAAM,GAAG;AAC5C,UAAQ,mBAAmB,KAAK;AAChC,QAAM,OAAO,MAAM,CAAC;AACpB,MAAI,MAAM;AACN,cAAM,gCAAe;AAAA,MACjB;AAAA,MACA,YAAY;AAAA,MACZ;AAAA,MACA;AAAA,IACJ,CAAC;AAAA,EACL;AACA,kBAAgB,UAAU,IAAI;AAAA,IAC1B;AAAA,IACA;AAAA,IACA,YAAY;AAAA,IACZ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,WAAW,MAAM,CAAC;AAAA,IAClB,WAAW,MAAM,CAAC;AAAA,EACtB;AAEA,MAAI,MAAM,CAAC,KAAK,MAAM,CAAC,KAAK,IAAI;AAC5B,WAAO,EAAE,aAAa,MAAM,CAAC,GAAG,IAAI,MAAM,CAAC,MAAM,KAAK,MAAM,CAAC,IAAI,OAAU;AAAA,EAC/E;AACA,SAAO,EAAE,aAAa,IAAI,IAAI,OAAU;AAC5C;AAEO,MAAM,kBAAkB,CAAC,eAA4C;AA5C5E;AA4C+E,+BAAgB,UAAU,MAA1B,YAA+B;AAAA;AAEvG,MAAM,6BAA6B,CAAC,eAAgC;AACvE,MAAI,gBAAgB,UAAU,GAAG;AAC7B,WAAO,gBAAgB,UAAU;AACjC,WAAO;AAAA,EACX;AACA,SAAO;AACX;AAEA,SAAS,mBAAmB,OAA2B;AACnD,MAAI,MAAM,CAAC,MAAM,KAAK;AAClB,WAAO,MAAM,MAAM,GAAG,CAAC;AAAA,EAC3B;AACA,SAAO;AACX;",
  "names": []
}
